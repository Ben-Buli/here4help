é«˜éšå°ˆæ¡ˆåˆ†ææ¨¡å‹æŒ‡ä»¤ï¼ˆç›´æ¥è²¼ç”¨ï¼‰

ä½ æ˜¯ Chief Architectã€‚è«‹æ ¹æ“šä¸‹åˆ—è¼¸å…¥ï¼Œç”¢å‡ºä¸€ä»½å¯ç›´æ¥åŸ·è¡Œçš„ã€Œå°ˆæ¡ˆä¿®æ”¹æŒ‡å—ã€ã€‚
å‹™å¿…å…·é«”åˆ°æŒ‡ä»¤/æª”å/PRåˆ‡åˆ†/é©—æ”¶æ¢ä»¶ï¼Œèƒ½è®“ä¸åŒè§’è‰²ï¼ˆBackend/Flutter/iOS/Infraï¼‰é€æ­¥ç…§åšï¼Œä¸éœ€å†å•ä½ å•é¡Œã€‚

â¸»

å°ˆæ¡ˆèƒŒæ™¯
	â€¢	ç”¢å“ï¼šHere4Helpï¼ˆFlutter Appï¼‰
	â€¢	å¾Œç«¯ï¼šLaravel + MySQLï¼ŒAdmin ä½¿ç”¨ Laravel Blade
	â€¢	åŠŸèƒ½åŸŸï¼šè¨»å†Š/ç™»å…¥ï¼ˆEmail + Google/Apple/Facebookï¼‰ã€ä»»å‹™èˆ‡æ‡‰å¾µã€èŠå¤©å®¤ï¼ˆWebSocket æœªè®€/å·²è®€/åœ–ç‰‡ï¼‰ã€å®¢æœã€æœƒå“¡é»æ•¸ã€æ¬Šé™/ç­‰ç´š
	â€¢	éƒ¨ç½²ï¼šCPanel / TestFlight å…§æ¸¬
	â€¢	è¿‘æœŸé‡é»ï¼š
	â€¢	æ¬Šé™ç­‰ç´šï¼ˆæœªèªè­‰/å·²èªè­‰/ç®¡ç†å“¡/åœæ¬Š/è‡ªåˆª/è‡ªåœï¼‰
	â€¢	JWT/Session
	â€¢	Socket ç©©å®š
	â€¢	Admin ç¶­é‹ï¼ˆå¯©æ ¸ã€å®¢æœã€é»æ•¸ï¼‰
	â€¢	ç›®å‰å¾Œç«¯ä½¿ç”¨åŸç”Ÿphpï¼Œè©•ä¼°æ˜¯å¦å¾Œé¢æ–°å¢çš„phpå¯ä»¥ä½¿ç”¨laravelï¼ˆèˆŠçš„phpå¯ä¿ç•™ï¼Œä½†ç¢ºä¿æ··ç”¨å¯è¡Œï¼Œä¸å¯è¡Œå°±çµ±ä¸€ä½¿ç”¨åŸç”Ÿphpï¼Œæˆ–æ˜¯ /admin ç®¡ç†å“¡å¾Œå°çµ±ä¸€laravel, app ç”¨çš„ åŸç”Ÿphpã€‚

â¸»

è¼¸å…¥è³‡æ–™

1. Repo çµæ§‹ï¼ˆtreeï¼‰
ç›®éŒ„ä¸­æœ‰äº›æ–‡ä»¶æ˜¯èˆŠæœ‰çš„ï¼Œå¦‚æœä¸ç¢ºå®šçš„å°±å¯«å…¥open_questions[]

å°ˆæ¡ˆæ¶æ§‹ï¼š
docs/å„ªå…ˆåŸ·è¡Œ/Project_Schema.md

è³‡æ–™åº«çµæ§‹ï¼š
docs/DATABASE_SCHEMA.md -- è³‡æ–™åº«çµæ§‹ä»¥åŠç”¨é€”è£œå……èªªæ˜
docs/å„ªå…ˆåŸ·è¡Œ/Database_Structure.md -- ç¾æœ‰è³‡æ–™åº«å®Œæ•´çµæ§‹

å…¶ä»–æ¨¡çµ„æ–‡ä»¶
docs/å„ªå…ˆåŸ·è¡Œ/ç™»å…¥è¨»å†Šï¼¿è¦æ ¼æ•´åˆæ–‡ä»¶.mdæ ¼.md
docs/å„ªå…ˆåŸ·è¡Œ/èŠå¤©å®¤æ¨¡çµ„_æ•´åˆè¦æ ¼.md


1.1 å°ˆæ¡ˆç›®æ¨™ğŸ“Œ èŠå¤©æ¨¡çµ„
- ç‹€æ…‹ï¼šMVP ç‰ˆæœ¬å®Œæˆ
- å‚™è¨»ï¼š
  - éœ€è¦å®ŒæˆèŠå¤©å®¤ï¼ˆè¨Šæ¯ã€è¨Šæ¯å·²è®€ã€æœªè®€æ•¸ã€åœ–ç‰‡å‚³éï¼‰
  - å¾ŒçºŒéœ€èª¿æ•´ç¾æœ‰socketè¨­å®š
  - /chaté é¢çš„ â€˜POSTâ€™é é¢éœ€è¦è¨­å®šæ‡‰å¾µè€…å¡ç‰‡å¯ä»¥å·¦å³æ»‘å‹•ä¸¦ä¸”å‡ºç¾å°æ‡‰çš„æŒ‰éˆ•ä¾‹å¦‚ Read, delete, pin,   - /chat/detail page: action bar åŠŸèƒ½å®Œæˆï¼Œç¢ºä¿action bar å¯ä»¥æŒ‰ç…§userRoleï¼ˆcreator/participantï¼‰è·Ÿä»»å‹™ç‹€æ…‹å‡ºç¾å°æ‡‰çš„action baré¸é …ï¼Œå¯ä»¥åšæˆå¯ä»¥æ“´å……èª¿æ•´çš„å¯«æ³•ä»¥ä¾¿ç®¡ç†ï¼ˆå…ˆæª¢æŸ¥ç¾æœ‰æ¶æ§‹æ˜¯å¦æœ‰ï¼‰


ğŸ“Œ ä»»å‹™æ¨¡çµ„
- ç‹€æ…‹ï¼šMVP ç‰ˆæœ¬å®Œæˆ
- å‚™è¨»ï¼š
  - éœ€è¦å®ŒæˆAPPLY NOWæŒ‰éˆ•é»æ“Šå‰å¾€/task/applyé é¢ä¹‹å¾Œï¼Œæœƒæ’å…¥ä¸€å€‹ä»»å‹™æ”¿ç­–åŒæ„æŒ‰éˆ•æ‰å¯ä»¥å‰å¾€æ‡‰å¾µé é¢çš„åŒæ„æµç¨‹ä»‹é¢
  - å®Œæˆä»»å‹™æ”¶è—åŠŸèƒ½
  - å®Œæˆä»»å‹™æª¢èˆ‰é¸å–®åŠåŠŸèƒ½


ğŸ“Œ ç®¡ç†å“¡å¾Œå°
- ç‹€æ…‹ï¼šæ¶æ§‹å·²è¦åŠƒï¼ŒåŠŸèƒ½å°šæœªå¯¦ä½œ
- å‚™è¨»ï¼š
  - æœƒå“¡å¯©æ ¸æ©Ÿåˆ¶ï¼šéœ€ä¸²æ¥ student_verificationsï¼ŒåŒ…å«æ–‡å­— + åœ–ç‰‡å¯©æŸ¥
  - å®¢æœç³»çµ±ï¼šéœ€æ”¯æ´ socket å³æ™‚èŠå¤©å®¤ï¼ŒåŒ…å«å®¢æœèŠå¤©å®¤å…§éƒ¨å¯ä»¥å»ºç«‹è©²æ¬¡å®¢æœèŠå¤©çš„ä»»å‹™é …ç›®ï¼Œå°æ‡‰åˆ° 
  - é»æ•¸ç®¡ç†ï¼šéœ€æ”¯æ´äººå·¥åŠ é»
  - æ¨è–¦ç¢¼åä½œå¼Šï¼šæš«ä¸å¯¦ä½œ

ğŸ“Œ å®¢æœèŠå¤©å®¤äº‹ä»¶ç´€éŒ„æ¨¡çµ„
	â€¢	ç‹€æ…‹ï¼šæ–°åŠŸèƒ½
	â€¢	å‚™è¨»ï¼š
	â€¢	åœ¨ç¾æœ‰ chat_rooms type=support çš„èŠå¤©å®¤ä¸­ï¼Œå…è¨±å»ºç«‹ã€Œäº‹ä»¶ã€ã€‚
	â€¢	æ¯å€‹äº‹ä»¶éœ€æœ‰ï¼šæ¨™é¡Œã€æè¿°ã€ç‹€æ…‹ï¼ˆopen / in_progress / resolved / closed_by_customerï¼‰ã€å»ºç«‹è€…ï¼ˆå®¢æœï¼‰ã€çµæ¡ˆè€…ï¼ˆå®¢æˆ¶ï¼‰ã€‚
	â€¢	æ”¯æ´äº‹ä»¶æ­·ç¨‹ç´€éŒ„ï¼ˆç‹€æ…‹æ›´æ–° logï¼‰ã€‚
	â€¢	å®¢æˆ¶å¯åœ¨äº‹ä»¶ resolved å¾Œï¼Œæ‰‹å‹•çµæ¡ˆä¸¦è©•åˆ†/è©•è«–ã€‚
	â€¢	Admin å¾Œå°éœ€æ–°å¢ /services/events é é¢ï¼šäº‹ä»¶æ¸…å–®ã€ç‹€æ…‹ç¯©é¸ã€å–®ç­†æª¢è¦–ï¼ˆå«æ­·ç¨‹èˆ‡è©•åˆ†ï¼‰ã€‚
	â€¢	å¾Œå°éœ€æä¾›äº‹ä»¶çµ±è¨ˆï¼ˆæ»¿æ„åº¦å¹³å‡ã€è™•ç†æ™‚é•·ã€å®¢æœæ¡ˆä»¶æ•¸ï¼‰ã€‚


â¸»

2. DB Schemaï¼ˆæ‘˜è¦ï¼‰
	â€¢	users
	â€¢	firstname / lastnameï¼ˆå·²æ”¹åï¼‰
	â€¢	statusï¼ˆactive, unverified, banned, self_deleted, self_suspendedï¼‰
		â€¢	nameï¼ˆæœ¬åï¼Œå–®æ¬„ä½ï¼Œæ²¿ç”¨ï¼‰
		â€¢	nicknameï¼ˆé¡¯ç¤ºåç¨±ï¼‰
		â€¢	statusï¼ˆactive, unverified, banned, self_deleted, self_suspendedï¼‰
		â€¢	user_identitiesï¼šOAuth ç¶å®š
		â€¢	ï¼ˆå‚™è¨»ï¼‰åŸå…ˆçš„ firstname/lastname è¦åŠƒå·²æ’¤å›ï¼Œæ²¿ç”¨ name å–®æ¬„ä½ï¼›è‹¥å‰ç«¯ä»åˆ† first/lastï¼Œæäº¤æ™‚å…ˆåˆä½µç‚º nameã€‚
	â€¢	task_disputesï¼šç”³è¨´
	â€¢	dispute_status_logsï¼šç”³è¨´ç‹€æ…‹ç´€éŒ„
	â€¢	chat_roomsï¼štype(application|task|support|dispute)ï¼Œdispute_id FK
	â€¢	chat_messagesï¼škind(text|image|file|system)ï¼Œå« media_url/mime_type
	â€¢	chat_readsï¼šå”¯ä¸€ç´¢å¼• (user_id, room_id)
	â€¢	student_verificationsï¼šæœƒå“¡å¯©æ ¸ï¼ˆå«åœ–ç‰‡ï¼‰
	â€¢	admins / admin_roles / admin_role_permissions
	â€¢	admin_activity_logs / admin_login_logs

â¸»

3. API & WebSocket è·¯ç”±ï¼ˆæ‘˜è¦ï¼‰
	â€¢	å‰å° /api/ï¼šæœƒå“¡ã€ä»»å‹™ã€èŠå¤©
	â€¢	å¾Œå° /api/admin/ï¼šæœƒå“¡ç®¡ç†ã€å¯©æ ¸ã€å®¢æœã€é»æ•¸ã€RBAC
	â€¢	WebSocket
	â€¢	/chatï¼ˆApp ç”¨æˆ¶ï¼‰
	â€¢	/supportï¼ˆAdmin å®¢æœï¼‰
	â€¢	äº‹ä»¶ï¼šjoinã€message:sendã€message:newã€read:upsertã€read:sync

API & WebSocket è·¯ç”±ï¼ˆæ–°å¢éƒ¨åˆ†ï¼‰
	â€¢	REST API (/api/support/events)
	â€¢	POST /support/events â†’ æ–°å¢äº‹ä»¶
	â€¢	GET /support/events/{chat_room_id} â†’ æŸ¥è©¢èŠå¤©å®¤å…§äº‹ä»¶åˆ—è¡¨
	â€¢	PATCH /support/events/{id}/status â†’ æ›´æ–°äº‹ä»¶ç‹€æ…‹
	â€¢	POST /support/events/{id}/close â†’ å®¢æˆ¶çµæ¡ˆ
	â€¢	POST /support/events/{id}/rating â†’ æäº¤è©•åˆ†
	â€¢	WebSocket (/support)
	â€¢	æ–°å¢äº‹ä»¶ï¼ševent:new
	â€¢	ç‹€æ…‹æ›´æ–°ï¼ševent:update
	â€¢	å®¢æˆ¶çµæ¡ˆï¼ševent:closed
	â€¢	è©•åˆ†æäº¤ï¼ševent:rated

â¸»

4. ç®¡ç†å“¡å¾Œå°æ¶æ§‹ï¼ˆç¶²ç«™æ¨¹ç‹€ï¼‰

/admin
â”œâ”€â”€ /login              â†’ ç®¡ç†å“¡ç™»å…¥
â”œâ”€â”€ /users              â†’ æœƒå“¡ç®¡ç†
â”‚     â”œâ”€â”€ /list         â†’ æœƒå“¡åˆ—è¡¨
â”‚     â”œâ”€â”€ /review       â†’ æœƒå“¡å¯©æ ¸ (ä¸²æ¥ student_verifications)
â”‚     â””â”€â”€ /edit/{id}    â†’ ä¿®æ”¹æœƒå“¡è³‡æ–™
â”œâ”€â”€ /tasks              â†’ ä»»å‹™ç®¡ç†
â”‚     â”œâ”€â”€ /list         â†’ ä»»å‹™åˆ—è¡¨
â”‚     â””â”€â”€ /logs         â†’ ä»»å‹™ç´€éŒ„ task_logs
â”œâ”€â”€ /services           â†’ å®¢æœç³»çµ±
â”‚     â”œâ”€â”€ /list         â†’ ä»»å‹™ç”³è¨´ç®¡ç† (task_disputes)
â”‚     â”œâ”€â”€ /chat         â†’ å®¢æœèŠå¤©å®¤ (éœ€æ”¯æ´ socket)
â”œâ”€â”€ /points             â†’ é»æ•¸ç®¡ç†
â”‚     â”œâ”€â”€ /list         â†’ é»æ•¸ç´€éŒ„
â”‚     â””â”€â”€ /manual-add   â†’ æ‰‹å‹•åŠ é»
â””â”€â”€ /admins             â†’ ç®¡ç†å“¡å¸³è™Ÿç®¡ç†
      â”œâ”€â”€ /list
      â”œâ”€â”€ /create
      â””â”€â”€ /reset-password

ç®¡ç†å“¡å¾Œå°æ¶æ§‹ï¼ˆè£œå……ï¼‰
/admin/services
â”œâ”€â”€ /list            â†’ ä»»å‹™ç”³è¨´ç®¡ç† (task_disputes)
â”œâ”€â”€ /chat            â†’ å®¢æœèŠå¤©å®¤
â””â”€â”€ /events          â†’ å®¢æœäº‹ä»¶ç´€éŒ„
       â”œâ”€â”€ /list     â†’ äº‹ä»¶åˆ—è¡¨ï¼ˆç‹€æ…‹ç¯©é¸ï¼‰
       â”œâ”€â”€ /view/{id}â†’ å–®ç­†äº‹ä»¶æª¢è¦–ï¼ˆå«æ­·ç¨‹ã€è©•åˆ†ï¼‰
       â””â”€â”€ /stats    â†’ çµ±è¨ˆï¼ˆå¹³å‡æ»¿æ„åº¦ã€è™•ç†æ™‚é•·ã€å®¢æœæ¡ˆä»¶æ•¸ï¼‰

	â€¢	æ¯é å°æ‡‰è³‡æ–™è¡¨ã€æ¬Šé™éµï¼ˆRBACï¼‰å·²è¦åŠƒ
	â€¢	API èµ° /api/admin/*ï¼ŒSession/JWT èˆ‡å‰å°åˆ†é›¢
	â€¢	Socket /support æä¾›å®¢æœå³æ™‚è¨Šæ¯

â¸»

5. è¿‘æœŸç—›é» / éœ€æ±‚
	â€¢	æ¬Šé™ç­‰ç´šï¼ˆæœªèªè­‰/å·²èªè­‰/ç®¡ç†å“¡/åœæ¬Š/è‡ªåˆª/è‡ªåœï¼‰
	â€¢	Signup å°é½Šï¼šè¡¨å–®æ”¹ç”¨ name + nicknameï¼›è‹¥å‰ç«¯ä»æœ‰ first/lastï¼Œæäº¤å‰åˆä½µç‚º name
	â€¢	Admin å¾Œå°æ“ä½œï¼ˆå¯©æ ¸ã€å®¢æœã€é»æ•¸ï¼‰
	â€¢	èˆŠè¡¨ç§»é™¤ï¼ˆtask_status_logs, task_activity_logsï¼‰â†’ æ”¹ç”± task_logs
	â€¢	socket token ç°½ç™¼ã€èŠå¤©å®¤å‹åˆ¥ support/dispute å€éš”
	â€¢	æ”¯æ´å®¢æœäº‹ä»¶ç´€éŒ„ï¼ˆè³‡æ–™è¡¨ + API + WebSocketï¼‰
	â€¢	å®¢æˆ¶å¯åœ¨äº‹ä»¶å®Œæˆå¾Œçµæ¡ˆä¸¦è©•åˆ†
	â€¢	Admin å¾Œå°å¯æª¢è¦–äº‹ä»¶æ¸…å–®ã€æ­·ç¨‹ã€è©•åˆ†
	â€¢	æä¾›å®¢æœç¸¾æ•ˆçµ±è¨ˆ

â¸»

äº¤ä»˜ç‰©ï¼ˆç”¢å‡ºéœ€æ±‚ï¼‰
	1.	PLAN.md
	â€¢	ADR æ±ºç­–
	â€¢	åˆ†å·¥/é‡Œç¨‹ç¢‘
	â€¢	å·¥ä½œåˆ†è§£ï¼ˆä»»å‹™ IDã€æª”æ¡ˆã€å‘½ä»¤ã€å›æ»¾ã€æ¸¬è©¦ï¼‰
	â€¢	é©—æ”¶æ¸…å–®
	2.	plan.json
	â€¢	milestone: M-CUSTOMER-SUPPORT-EVENTS
	â€¢	ä»»å‹™åŒ…å«ï¼š
	â€¢	DB migration
	â€¢	API é–‹ç™¼
	â€¢	WebSocket äº‹ä»¶æ–°å¢
	â€¢	Flutter App UIï¼ˆèŠå¤©å®¤ â†’ äº‹ä»¶å¡ç‰‡ï¼‰
	â€¢	Admin Blade é é¢ /events
	â€¢	æ¸¬è©¦è¨ˆç•«ï¼ˆå–®å…ƒ + ç«¯å°ç«¯ï¼‰
	3.	SQL / Laravel migration ç¯„ä¾‹
	â€¢	support_events / support_event_logs
	4.	å›æ»¾æ–¹æ¡ˆ
	â€¢	php artisan migrate:rollback
	â€¢	åŒ¯å…¥ SQL dump
	5.	æ¸¬è©¦è¨ˆç•«
	â€¢	API: å»ºç«‹/æŸ¥è©¢/æ›´æ–°/çµæ¡ˆ/è©•åˆ†
	â€¢	WebSocket: event:new, event:update, event:closed, event:rated
	â€¢	Admin UI: ç¯©é¸ã€çµ±è¨ˆ
	6.	PR åˆ‡åˆ†å»ºè­°
	â€¢	PR1: DB migration
	â€¢	PR2: Backend API & Socket
	â€¢	PR3: Flutter App UI
	â€¢	PR4: Admin Blade é é¢
	â€¢	PR5: æ¸¬è©¦èˆ‡æ–‡ä»¶
	7.	æ¥å£ç›¸å®¹çŸ©é™£
	â€¢	å½±éŸ¿ç«¯é»ï¼š/support/events/*
	â€¢	DTO: æ–°å¢ eventDTO (title, description, status, rating, review)

## çµæ§‹ï¼ˆä»¥ä¸‹ä¹Ÿéœ€è¦ç´å…¥è©•ä¼°é–‹ç™¼/ä¿®æ”¹é …ç›®ï¼‰
{
  "version": "1.0",
  "milestones": [
    {
      "id": "M-SUPPORT-EVENTS",
      "title": "å®¢æœäº‹ä»¶åˆ—è¡¨èˆ‡é€²åº¦ï¼ˆissues_status_page.dartï¼‰",
      "tasks": [
        {
          "id": "T1-FLT-ISSUES-PAGE",
          "owner": "flutter",
          "goal": "åœ¨ App ç«¯æ–°å¢ issues_status_page.dartï¼Œåˆ—å‡º support_events ä¸¦é¡¯ç¤ºå„äº‹ä»¶é€²åº¦",
          "steps": [
            "å»ºç«‹ lib/pages/support/issues_status_page.dart",
            "å‘¼å« API: GET /support/events/{chat_room_id} å–å¾—äº‹ä»¶æ¸…å–®",
            "äº‹ä»¶å¡ç‰‡å‘ˆç¾ï¼šæ¨™é¡Œã€ç‹€æ…‹(open/in_progress/resolved/closed_by_customer)ã€æœ€å¾Œæ›´æ–°æ™‚é–“",
            "æ”¯æ´é»æ“Šå¡ç‰‡é–‹å•Ÿäº‹ä»¶è©³æƒ…ï¼ˆå«æ­·ç¨‹ logsï¼‰",
            "Socket è¨‚é–± /support: event:newã€event:updateã€event:closedã€event:rated å³æ™‚åˆ·æ–°"
          ],
          "commands": [
            "flutter analyze",
            "flutter test --plain-name issues_status_page"
          ],
          "touch_files": [
            "lib/pages/support/issues_status_page.dart",
            "lib/widgets/support_event_card.dart",
            "lib/services/api/support_event_api.dart",
            "lib/services/socket/support_channel.dart"
          ],
          "acceptance": [
            "å¯é¡¯ç¤ºåŒä¸€èŠå¤©å®¤ä¸‹çš„å…¨éƒ¨äº‹ä»¶ï¼Œä¸¦ä¾ç‹€æ…‹/æ™‚é–“æ’åº",
            "ç‹€æ…‹æ›´æ–°æ™‚ UI å¯å³æ™‚åˆ·æ–°",
            "ç„¡äº‹ä»¶æ™‚é¡¯ç¤ºç©ºç‹€æ…‹é "
          ],
          "estimate_hours": 5,
          "deps": ["T2-LAR-API-SUPPORT-EVENTS", "T3-SOCKET-SUPPORT"]
        }
      ]
    },
    {
      "id": "M-ACCOUNT-SECURITY",
      "title": "å®‰å…¨æ€§è¨­å®šé é¢åœç”¨/å•Ÿç”¨å¸³è™Ÿèˆ‡ä»»å‹™ä¿è­·æ©Ÿåˆ¶",
      "tasks": [
        {
          "id": "T1-BE-SECURITY-GUARD",
          "owner": "backend",
          "goal": "å¾Œç«¯æä¾›å¸³è™Ÿåœç”¨/å•Ÿç”¨èˆ‡ä»»å‹™ä¸­æ–·ä¿è­·æª¢æŸ¥",
          "steps": [
            "æ–°å¢ API: GET /account/risky-actions-check è¿”é‚„ { has_active_tasks, has_posted_open_tasks }",
            "æ–°å¢ API: POST /account/deactivate èˆ‡ POST /account/reactivate",
            "åœç”¨å¾Œåœ¨ JWT/Policy å±¤å°é–ï¼šä»»å‹™å»ºç«‹/ç·¨è¼¯ã€/task/applyã€/chat/detail ç›¸é—œè·¯ç”±",
            "è‹¥ status=è¢«ç®¡ç†å“¡åœæ¬Šï¼ˆpermission = -1 æˆ– status='banned'ï¼‰ï¼Œå°é–åŒæ¨£æ¬Šé™ï¼Œä½† /reactivate ä¸€å¾‹è¿”å›éœ€è¯ç¹«å®¢æœè¨Šæ¯"
          ],
          "commands": [
            "php artisan route:list | grep account",
            "phpunit --filter AccountSecurity"
          ],
          "touch_files": [
            "routes/api.php",
            "app/Policies/*",
            "app/Http/Controllers/AccountSecurityController.php",
            "app/Http/Middleware/PermissionGuard.php"
          ],
          "acceptance": [
            "API èƒ½æ­£ç¢ºå›å ±æ˜¯å¦å­˜åœ¨åŸ·è¡Œä¸­/ç™¼å¸ƒä¸­çš„ä»»å‹™",
            "åœç”¨å¸³è™Ÿå¾Œï¼Œä»»å‹™èˆ‡èŠå¤©ç›¸é—œ API ä¸€å¾‹ 403 ä¸¦å«éŒ¯èª¤ç¢¼",
            "è¢«ç®¡ç†å“¡åœæ¬Šç„¡æ³•æ–¼å‰ç«¯è‡ªè¡Œå•Ÿç”¨ï¼ŒAPI è¿”å›éœ€è¯ç¹«å®¢æœçš„è¨Šæ¯"
          ],
          "estimate_hours": 6,
          "deps": []
        },
        {
          "id": "T2-FLT-SECURITY-UI",
          "owner": "flutter",
          "goal": "/account/security UI èˆ‡ä¿è­·æµç¨‹",
          "steps": [
            "å»ºç«‹/èª¿æ•´ lib/pages/account/security_page.dart ä¾è¨­è¨ˆç¨¿å‘ˆç¾",
            "é€²å…¥é é¢æ™‚å‘¼å« /account/risky-actions-checkï¼Œè‹¥æœ‰é€²è¡Œä¸­æˆ–ç™¼å¸ƒä¸­çš„ä»»å‹™ï¼Œå½ˆå‡ºæé†’ä¸¦å¼•å°è™•ç†å®Œç•¢å¾Œå†åœç”¨",
            "åœç”¨å¾Œåœ¨åŒé æä¾›ã€å•Ÿç”¨å¸³è™Ÿã€æŒ‰éˆ•ï¼šå‘¼å« /account/reactivateï¼ˆåƒ…é™è‡ªåœç”¨ï¼‰",
            "è‹¥è¢«ç®¡ç†å“¡åœæ¬Šï¼Œéš±è—å•Ÿç”¨æŒ‰éˆ•ï¼Œé¡¯ç¤ºéœ€è¯ç¹«å®¢æœçš„èªªæ˜æ–‡å­—èˆ‡å¿«æ·å…¥å£"
          ],
          "commands": [
            "flutter analyze",
            "flutter test --plain-name security_page"
          ],
          "touch_files": [
            "lib/pages/account/security_page.dart",
            "lib/services/api/account_api.dart",
            "lib/router/guards/permission_guard.dart"
          ],
          "acceptance": [
            "æœ‰é€²è¡Œä¸­/ç™¼å¸ƒä¸­çš„ä»»å‹™æ™‚ï¼Œåœç”¨æœƒå…ˆæç¤ºä¿è­·å°è©±æ¡†",
            "è‡ªåœç”¨å¾Œå¯åœ¨åŒé é¢å†å•Ÿç”¨ï¼›è¢«ç®¡ç†å“¡åœæ¬Šæ™‚ä¸å¯å•Ÿç”¨ä¸¦é¡¯ç¤ºèªªæ˜",
            "åœç”¨å¸³è™Ÿå¾Œï¼Œå‰ç«¯æŒ‰éˆ•ã€Apply Nowã€ã€é€²å…¥èŠå¤©å®¤ã€ç‹€æ…‹è¢«å‹•æ…‹ç¦ç”¨"
          ],
          "estimate_hours": 6,
          "deps": ["T1-BE-SECURITY-GUARD", "T1-PERMISSION-GUARD"]
        }
      ]
    },
    {
      "id": "M-PERMISSION-GUARD",
      "title": "å…¨åŸŸæ¬Šé™èˆ‡è·¯ç”±å®ˆè¡› (user.permission/status)",
      "tasks": [
        {
          "id": "T1-PERMISSION-GUARD",
          "owner": "flutter",
          "goal": "ç¢ºèªç¾è¡Œä»¥ user.permission æ§åˆ¶è·¯ç”±ä¸¦è£œé½Šå…ƒä»¶ç´šæ¢ä»¶å¼",
          "steps": [
            "å¯©è¦–ç¾æœ‰ router è¨­å®šï¼Œç¢ºèªä½¿ç”¨ user.permission / users.status ç®¡ç†å­˜å–",
            "æ–°å¢ lib/router/guards/permission_guard.dart å°è£ï¼šå…è¨±ã€é˜»æ“‹ã€è·³è½‰èªªæ˜é ",
            "åœ¨ /task è©³æƒ…é çš„ Apply Nowã€/chat/detail å…¥å£ï¼Œä»¥æ¬Šé™æ¢ä»¶å¼ç¦ç”¨ä¸¦çµ¦å‡ºæç¤º UI",
            "è£œå–®å…ƒæ¸¬è©¦ï¼šä¸åŒ permission/status çµ„åˆä¸‹çš„å°èˆªèˆ‡å…ƒä»¶å¯è¦–ç‹€æ…‹"
          ],
          "commands": [
            "flutter analyze",
            "flutter test --plain-name permission_guard"
          ],
          "touch_files": [
            "lib/router/app_router.dart",
            "lib/router/guards/permission_guard.dart",
            "lib/pages/task/task_detail_page.dart",
            "lib/pages/chat/detail.dart",
            "lib/widgets/buttons/apply_now_button.dart"
          ],
          "acceptance": [
            "è·¯ç”±ç´šèˆ‡å…ƒä»¶ç´šæ¬Šé™æ§åˆ¶çš†ç”Ÿæ•ˆ",
            "è¢«åœæ¬Šæˆ–è‡ªåœç”¨ç„¡æ³•é€²å…¥ /chat/detail èˆ‡è§¸ç™¼ /task/apply",
            "ä¸åŒæ¬Šé™æç¤ºè¨Šæ¯æ¸…æ¥šä¸€è‡´"
          ],
          "estimate_hours": 4,
          "deps": []
        }
      ]
    },
    {
      "id": "M-HISTORY-REVIEW",
      "title": "æ­·å²ä»»å‹™é è¦½èˆ‡æœªè©•åƒ¹å¿«æ·",
      "tasks": [
        {
          "id": "T1-BE-HISTORY-ENDPOINTS",
          "owner": "backend",
          "goal": "æä¾›ç™¼ä»»å‹™/æ¥ä»»å‹™æ­·å²åˆ—è¡¨èˆ‡è©•åƒ¹ç‹€æ…‹",
          "steps": [
            "æ–°å¢ API: GET /tasks/history?role=poster|acceptorï¼Œè¿”å›ä»»å‹™æ‘˜è¦+æ˜¯å¦å·²è©•åƒ¹",
            "è‹¥æœªè©•åƒ¹ï¼Œå›å‚³ flag can_review=true èˆ‡å¿«æ·è©•åˆ†æ‰€éœ€ task_id"
          ],
          "commands": [
            "php artisan route:list | grep tasks/history",
            "phpunit --filter TaskHistory"
          ],
          "touch_files": [
            "routes/api.php",
            "app/Http/Controllers/TaskHistoryController.php"
          ],
          "acceptance": [
            "èƒ½ä¾è§’è‰²åˆ—å‡ºæ­·å²ä»»å‹™ä¸¦æ¨™è¨˜å·²/æœªè©•åƒ¹",
            "è³‡æ–™é‡å¤§æ™‚å¯åˆ†é "
          ],
          "estimate_hours": 3,
          "deps": []
        },
        {
          "id": "T2-FLT-HISTORY-UI",
          "owner": "flutter",
          "goal": "å±¥æ­·é ï¼ˆPosted/Acceptedï¼‰æ”¯æ´æœªè©•åƒ¹å¿«æ·æŒ‰éˆ•",
          "steps": [
            "æ›´æ–° lib/pages/account/history_page.dart å‘ˆç¾ Posted èˆ‡ Accepted æ¸…å–®",
            "æœªè©•åƒ¹é …ç›®é¡¯ç¤ºã€Reviewã€å¿«æ·æŒ‰éˆ•ï¼Œé»æ“Šå½ˆå‡ºè©•åˆ†è¦–çª—ï¼ˆæ˜Ÿç­‰+è©•è«–å¯é¸ï¼‰",
            "é€å‡ºå¾Œæ›´æ–°è©²åˆ—ç‹€æ…‹ä¸¦å³æ™‚åˆ·æ–°å¹³å‡è©•åˆ†"
          ],
          "commands": [
            "flutter analyze",
            "flutter test --plain-name history_review"
          ],
          "touch_files": [
            "lib/pages/account/history_page.dart",
            "lib/widgets/review_dialog.dart",
            "lib/services/api/review_api.dart"
          ],
          "acceptance": [
            "æ¸…å–®å¯æ­£ç¢ºé¡¯ç¤ºå·²/æœªè©•åƒ¹æ¨™è¨˜",
            "é»æ“Š Review å¯å®Œæˆè©•åˆ†è©•è«–ä¸¦åˆ·æ–° UI"
          ],
          "estimate_hours": 5,
          "deps": ["T1-BE-HISTORY-ENDPOINTS"]
        }
      ]
    },
    {
      "id": "M-OAUTH-FIRST-LOGIN",
      "title": "ç¬¬ä¸‰æ–¹ç™»å…¥é¦–æ¬¡å°å¼•è¨»å†Š",
      "tasks": [
        {
          "id": "T1-BE-OAUTH-SESSION",
          "owner": "backend",
          "goal": "OAuth é¦–ç™»å»ºç«‹æš«å­˜èº«ä»½èˆ‡å°å¼•è¨»å†Šæ‰€éœ€è³‡æ–™",
          "steps": [
            "ä¾ user_identities çµæ§‹ä¿å­˜ provider, provider_user_id, email, name, avatar_url, tokens(å¯ç©º)",
            "è‹¥ç‚ºæ–°ç”¨æˆ¶ï¼Œå›å‚³ isNewUser=true èˆ‡ session_key ä¾› App å¸¶å¾€ /signup"
          ],
          "commands": [
            "phpunit --filter OAuthFirstLogin",
            "php artisan tinker"
          ],
          "touch_files": [
            "app/Http/Controllers/OAuthController.php",
            "app/Models/UserIdentity.php",
            "routes/api.php"
          ],
          "acceptance": [
            "æ–°ç”¨æˆ¶å®Œæˆ OAuth å¾Œæœƒè¿”å› isNewUser=true èˆ‡æš«å­˜è³‡æ–™",
            "æ—¢æœ‰ç”¨æˆ¶ç›´æ¥ç™»å…¥ä¸¦è¿”å› JWT"
          ],
          "estimate_hours": 3,
          "deps": []
        },
        {
          "id": "T2-FLT-OAUTH-SIGNUP-FLOW",
          "owner": "flutter",
          "goal": "é¦–æ¬¡ç¬¬ä¸‰æ–¹ç™»å…¥å°å‘ /signup ä¸¦å¸¶å…¥æš«å­˜è³‡æ–™ç‚ºé è¨­å€¼",
          "steps": [
            "æ›´æ–° lib/pages/shell_page.dartï¼šè‹¥ isNewUser=trueï¼Œå°èˆªè‡³ /signup ä¸¦å¸¶å…¥é è¨­å€¼",
            "é è¨­å€¼å¯ç¼ºçœï¼Œè¡¨å–®æäº¤å¾Œå»ºç«‹ users èˆ‡ user_identities",
            "æˆåŠŸè¨»å†Šå¾Œå°èˆªè‡³ /student-id æˆ–æ—¢å®šæµç¨‹é "
          ],
          "commands": [
            "flutter analyze",
            "flutter test --plain-name oauth_signup_flow"
          ],
          "touch_files": [
            "lib/pages/shell_page.dart",
            "lib/pages/auth/signup_page.dart",
            "lib/services/api/oauth_api.dart"
          ],
          "acceptance": [
            "ç¬¬ä¸‰æ–¹é¦–ç™»èƒ½æ­£ç¢ºè·³è½‰ /signup ä¸¦å¸¶å…¥é è¨­å€¼",
            "è¨»å†ŠæˆåŠŸå¾Œèƒ½æ­£å¸¸ç™»å…¥èˆ‡å¾ŒçºŒå°æµ"
          ],
          "estimate_hours": 4,
          "deps": ["T1-BE-OAUTH-SESSION"]
        }
      ]
    }
  ],
  "open_questions": [
    "åœç”¨å¸³è™Ÿæ™‚ã€é€²è¡Œä¸­/ç™¼å¸ƒä¸­ã€çš„å®šç¾©æ˜¯å¦åŒ…å«å¾…å¯©æ ¸/æœªæ”¯ä»˜ç­‰ä¸­é–“ç‹€æ…‹ï¼Ÿ",
    "å‰ç«¯éœ€å¦åœ¨å®‰å…¨æ€§è¨­å®šé é¡¯ç¤ºç•¶å‰å°é–åŸå› ï¼ˆè‡ªåœç”¨/è¢«ç®¡ç†å“¡åœæ¬Šï¼‰èˆ‡ä»£ç¢¼ï¼Ÿ",
    "æ­·å²ä»»å‹™æ¸…å–®æ˜¯å¦éœ€è¦é›¢ç·šå¿«å–èˆ‡åˆ†é å¤§å°ä¸Šé™ï¼Ÿ"
  ],
  "suggestions": [
    "åœ¨ PermissionGuard ä¸­çµ±ä¸€è½‰è­¯å¾Œç«¯éŒ¯èª¤ç¢¼â†’å‰ç«¯æ–‡æ¡ˆï¼Œé¿å…å¤šè™•é‡è¤‡åˆ¤æ–·ã€‚",
    "support_events çš„äº‹ä»¶è©³æƒ…å¯å…±ç”¨ review_dialog åšè©•åˆ†æäº¤ï¼Œæ¸›å°‘é‡è¤‡ UIã€‚",
    "ç‚ºåœæ¬Š/åœç”¨ç›¸é—œè¡Œç‚ºåŠ å…¥å¯©è¨ˆæ—¥èªŒï¼ˆadmin_activity_logsï¼‰ä¾¿æ–¼è¿½æº¯ã€‚"
  ]
}

	3.	SQL/Laravel migration ç‰‡æ®µï¼šç›´æ¥å¯è²¼ç”¨ï¼ˆå« up/downï¼‰
	4.	å›æ»¾æ–¹æ¡ˆï¼šå¦‚ä½•åœ¨ 5 åˆ†é˜å…§æ¢å¾©ï¼ˆmigrate:rollback / dump åŒ¯å›ï¼‰
â¸»

Signup è¡¨å–®å°é½Šï¼ˆé‡è¦ï¼‰
	â€¢	å‰ç«¯ï¼šç¶­æŒ UI æœ‰ first/last äº¦å¯ï¼Œä½†æäº¤æ™‚éœ€çµ„åˆæˆ nameï¼›nickname ç‚ºé¡¯ç¤ºåç¨±
	â€¢	å¾Œç«¯ï¼š/api/register åƒ…è™•ç† name/nicknameï¼ˆå¿½ç•¥ä¾†è‡ªå‰ç«¯çš„ first/lastï¼Œåˆä½µæˆnameï¼‰
	â€¢	å…¼å®¹ï¼šç¾æœ‰è³‡æ–™åº«ç¶­æŒ users.nameã€users.nicknameï¼Œä¸æ–°å¢/æ”¹åæ¬„ä½

**å¿…å®ˆåŸå‰‡**
	â€¢	æ ¹æ“šç•¶ä¸‹å°ˆæ¡ˆç¾æœ‰æ¶æ§‹åˆ¤æ–·å“ªäº›åŠŸèƒ½æ¨¡çµ„å·²ç¶“å®Œæˆï¼Œå¦‚æœå·²æœ‰éƒ¨åˆ†é€²åº¦ä½†å°šæœªå®Œæ•´åŠŸèƒ½ï¼Œè«‹å¹«æˆ‘åˆ—å‡ºå°šæœªå®Œæˆçš„å»ºè­°é …ç›®ï¼Œæ”¾åœ¨suggestions
	â€¢	ä¸æ–°å¢éœ€æ±‚ï¼ŒåªåŸºæ–¼è¼¸å…¥æœ€ä½³åŒ–æ–¹æ¡ˆ
	â€¢	æ¯æ­¥é©Ÿéœ€åˆ—å‡ºæª”æ¡ˆè·¯å¾‘èˆ‡å‘½ä»¤
	â€¢	ç ´å£æ€§è®Šæ›´å¿…å‚™ç›¸å®¹å±¤ï¼ˆtransformer/adapterï¼‰èˆ‡å›é€€æ–¹æ¡ˆ
	â€¢	è³‡è¨Šç¼ºæ¼æ™‚ï¼Œæ”¾åœ¨ open_questions
	â€¢	åš´æ ¼é™åˆ¶ support_events åƒ…èƒ½ç¶å®š chat_rooms.type = support
	â€¢	ç‹€æ…‹æ›´æ–°éœ€å¯«å…¥ support_event_logs
	â€¢	å®¢æˆ¶åƒ…èƒ½å°è‡ªå·±ç›¸é—œäº‹ä»¶é€²è¡Œçµæ¡ˆ/è©•åˆ†
	â€¢	æä¾› rollback æ©Ÿåˆ¶

â¸»

ğŸ‘‰ é€™æ¨£è²¼çµ¦é«˜éšæ¨¡å‹ï¼Œå®ƒå°±æœƒè¼¸å‡ºï¼š
	â€¢	PLAN.md
	â€¢	plan.json
	â€¢	SQL / Laravel migration ç¯„ä¾‹
	â€¢	æ¸¬è©¦èˆ‡ PR åˆ‡åˆ†

â¸»

